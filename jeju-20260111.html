<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÊøüÂ∑ûÂ≥∂ËúúÊúàÊâãÂØ´ÊâãÊú≠</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com/"></script>
    <!-- Google Fonts: Noto Serif TC -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@300;500;900&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- ÂÖ®ÂüüÁãÄÊÖãËàáÈò≤ÈåØÂÆöÁæ© -->
    <script>
        window.checklistStates = {};
        window.getCheckState = (itemId) => window.checklistStates[itemId] || false;
        
        window.refreshCheckboxes = () => {
            document.querySelectorAll('.check-box').forEach(box => {
                const itemId = box.getAttribute('data-item-id');
                if (window.getCheckState(itemId)) box.classList.add('checked');
                else box.classList.remove('checked');
            });
        };

        window.toggleCheck = function(el, itemId) {
            const isChecked = el.classList.toggle('checked');
            if (window.saveCheckState) {
                window.saveCheckState(itemId, isChecked);
            }
        };
    </script>

    <!-- Firebase Êï¥ÂêàÊ®°ÁµÑ -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        let firebaseConfig = null;
        try {
            if (typeof __firebase_config !== 'undefined') {
                firebaseConfig = JSON.parse(__firebase_config);
            }
        } catch (e) { console.warn("Firebase config not available."); }

        if (firebaseConfig && firebaseConfig.apiKey) {
            const app = initializeApp(firebaseConfig);
            const auth = getAuth(app);
            const db = getFirestore(app);
            const appId = typeof __app_id !== 'undefined' ? __app_id : 'jeju-honeymoon-2026';

            const initAuth = async () => {
                try {
                    if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                        await signInWithCustomToken(auth, __initial_auth_token);
                    } else {
                        await signInAnonymously(auth);
                    }
                } catch (err) { console.error("Auth failed"); }
            };

            onAuthStateChanged(auth, (user) => {
                if (user) {
                    const docRef = doc(db, 'artifacts', appId, 'users', user.uid, 'checklists', 'states');
                    onSnapshot(docRef, (snapshot) => {
                        if (snapshot.exists()) {
                            window.checklistStates = snapshot.data();
                            window.refreshCheckboxes();
                        }
                    }, (err) => {});
                }
            });

            window.saveCheckState = async (itemId, isChecked) => {
                if (!auth.currentUser) return;
                window.checklistStates[itemId] = isChecked;
                const docRef = doc(db, 'artifacts', appId, 'users', auth.currentUser.uid, 'checklists', 'states');
                await setDoc(docRef, window.checklistStates, { merge: true });
            };

            initAuth();
        }
    </script>

    <style>
        :root {
            --color-primary: #4A443F;
            --color-accent-sage: #A6A890;
            --color-accent-rose: #C89F9C;
            --color-bg: #F9F7F4;
        }
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--color-bg);
            color: var(--color-primary);
            overflow-x: hidden;
        }
        .font-serif-tc { font-family: 'Noto Serif TC', serif; }
        .paper-texture {
            position: fixed; inset: 0; opacity: 0.05; pointer-events: none;
            background-image: url("https://www.transparenttextures.com/patterns/handmade-paper.png");
            z-index: 50;
        }
        #bg-illustration-container {
            position: fixed; inset: 0; width: 100%; height: 100%; pointer-events: none; opacity: 0.06; transition: opacity 1s; z-index: 5;
        }
        .masking-tape {
            height: 2rem; width: 6rem; background-color: rgba(255, 255, 255, 0.4);
            border-left: 1px dashed rgba(0,0,0,0.05); border-right: 1px dashed rgba(0,0,0,0.05);
            box-shadow: 0 1px 2px rgba(0,0,0,0.05); transform: rotate(-2deg);
            clip-path: polygon(0% 0%, 100% 0%, 98% 50%, 100% 100%, 0% 100%, 2% 50%);
        }
        .handwritten-note {
            background-color: #FFFDF9; border: 1px solid #E9E6E2; padding: 1.5rem; border-radius: 1rem;
            font-family: 'Noto Serif TC', serif; min-height: 100px; width: 100%; resize: none; outline: none;
        }
        .fade-in { animation: fadeIn 0.6s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .day-btn.active { background-color: var(--color-accent-sage); border-color: var(--color-accent-sage); color: white; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
        .check-item { display: flex; align-items: center; gap: 0.75rem; padding: 0.6rem 0; border-bottom: 1px dashed rgba(0,0,0,0.05); cursor: pointer; }
        .check-box { width: 1.25rem; height: 1.25rem; border: 1.5px solid var(--color-accent-sage); border-radius: 4px; transition: all 0.2s; flex-shrink: 0; }
        .check-box.checked { background-color: var(--color-accent-sage); position: relative; }
        .check-box.checked::after { content: '‚úì'; color: white; font-size: 0.75rem; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }
        .flow-arrow { display: flex; align-items: center; justify-content: center; color: var(--color-accent-sage); opacity: 0.4; animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(5px); } }
        @media print { .no-print { display: none !important; } #itinerary-grid { display: block !important; } }
    </style>
</head>
<body>
    <div class="paper-texture"></div>
    <div id="bg-illustration-container"></div>

    <header class="max-w-6xl mx-auto pt-12 px-6 flex flex-col items-center relative z-10 text-center">
        <div class="flex items-center gap-4 mb-4">
            <div class="h-[1px] w-12 bg-black/10"></div>
            <i data-lucide="heart" class="text-[#C89F9C] fill-current w-6 h-6"></i>
            <div class="h-[1px] w-12 bg-black/10"></div>
        </div>
        <h1 class="text-3xl font-light tracking-[0.2em] mb-8 text-[#5D5751] font-serif-tc">Jeju Honeymoon Diary</h1>
        <div id="day-selector" class="flex flex-wrap justify-center gap-2 mb-8 px-4 no-print"></div>
        <button onclick="window.print()" class="no-print mb-8 flex items-center gap-2 text-xs font-medium text-[#A6A890] hover:text-[#C89F9C] transition-colors border-b border-dashed border-[#A6A890]/40 pb-1">
            <i data-lucide="printer" class="w-3 h-3"></i> ÂàóÂç∞ÊàëÁöÑÊâãÊú≠
        </button>
    </header>

    <main class="max-w-6xl mx-auto px-6 pb-32 relative z-10">
        <section id="day-header" class="mb-12 text-center fade-in"></section>
        <div id="itinerary-grid" class="flex flex-col gap-6 items-center w-full"></div>
        <div id="note-section" class="max-w-2xl mx-auto mt-16 w-full fade-in"></div>
    </main>

    <div class="fixed bottom-10 left-1/2 -translate-x-1/2 z-50 no-print">
        <div class="bg-white/80 backdrop-blur-md border border-[#E9E6E2] px-8 py-4 rounded-full shadow-lg flex items-center gap-8">
            <button id="prev-btn" class="text-[#4A443F] hover:text-[#C89F9C] disabled:opacity-20 transition-colors"><i data-lucide="chevron-left" class="w-7 h-7"></i></button>
            <div class="flex flex-col items-center min-w-[80px]">
                <i data-lucide="book-open" class="text-[#A6A890] w-5 h-5 mb-0.5"></i>
                <span id="page-label" class="text-[10px] font-bold tracking-[0.3em] text-[#5D5751]">PAGE.00</span>
            </div>
            <button id="next-btn" class="text-[#4A443F] hover:text-[#C89F9C] disabled:opacity-20 transition-colors"><i data-lucide="chevron-right" class="w-7 h-7"></i></button>
        </div>
    </div>

    <footer class="max-w-4xl mx-auto pb-40 text-center px-6 relative z-10">
        <div class="flex justify-center gap-4 mb-6">
            <i data-lucide="leaf" class="text-[#A6A890] w-5 h-5"></i>
            <i data-lucide="heart" class="text-[#C89F9C] w-5 h-5 animate-pulse"></i>
            <i data-lucide="leaf" class="text-[#A6A890] w-5 h-5"></i>
        </div>
        <p class="text-[#8E8781] text-sm font-light tracking-[0.2em] italic mb-4">" May every path in Jeju lead to beautiful memories. "</p>
    </footer>

    <script>
        const itineraryData = [
            {
                id: 0, title: "Preparation ¬∑ Ê∫ñÂÇôÊ∏ÖÂñÆ", date: "Before Departure", theme: "Ê†∏ÂøÉË≠â‰ª∂ËàáË°åÊùéÊ™¢Êü•", bgType: "city", isChecklist: true,
                sections: [
                    { name: "‚úàÔ∏è Ëà™Áè≠Ë≥áË®ä (ËôéËà™)", items: ["ÂéªÁ®ã 1/11Ôºö06:40 Ê°ÉÂúí ‚ûî 09:50 ÊøüÂ∑û", "ÂõûÁ®ã 1/18Ôºö10:50 ÊøüÂ∑û ‚ûî 12:10 Ê°ÉÂúí"] },
                    { name: "üìë Ê†∏ÂøÉË≠â‰ª∂", items: ["Ë≠∑ÁÖß (ÊúâÊïàÊúüÂÖß)", "ÂúãÈöõÈßïÁÖß (IDP)", "Âè∞ÁÅ£ÈßïÁÖß (ÂèñËªäÊ†∏Â∞ç)", "ÈüìÂÖÉÁèæÈáë", "ÂúãÂ§ñÂõûÈ•ã‰ø°Áî®Âç°"] },
                    { name: "üîã ÈõªÂ≠êË®≠ÂÇô", items: ["Ë°åÂãïÈõªÊ∫ê (Ë°åÂÖÖ)", "ÂÖÖÈõªÁ∑öËàáÂÖÖÈõªÈ†≠", "ÈüìÂúã‰∏äÁ∂≤ SIM Âç° / WiFiÊ©ü", "WOWPASS (ÊøüÂ∑ûÂêõÊÇÖËæ¶ÁêÜ)"] },
                    { name: "üß§ ÂÜ¨Êó•Á©øÊê≠", items: ["ÊØõÂ∏Ω", "ÂúçÂ∑æ", "Â§™ÈôΩÁúºÈè°", "Èõ®ÂÇò (ÂÇò)", "Èò≤È¢®Â§ñÂ•ó / Â•ΩËµ∞Ë∑ØÁöÑÈûã"] },
                    { name: "üßº ÁîüÊ¥ªÁî®ÂìÅ", items: ["Áõ•Ê¥óÁî®ÂÖ∑ÁµÑ", "‰øùÈ§äÂìÅ / ÂåñÂ¶ùÂìÅ", "ÂÄã‰∫∫Â∏∏ÂÇôËó•ÂìÅ"] }
                ]
            },
            {
                id: 1, title: "Rental ¬∑ Ê®ÇÂ§©ÁßüËªäÊåáÂçó", date: "2026 / 01 / 11", theme: "ÂèñËªäÊµÅÁ®ãËàáÂÆòÁ∂≤ÈÄ£Áµê", bgType: "city", isRentalPage: true,
                websiteUrl: "https://www.lotterentacar.net/hp/chn/carLife/jejuAuto.do",
                sections: [
                    { name: "üöå Êé•ÈßÅËªäË≥áË®ä", items: ["ÁáüÈÅãÊôÇÈñì: 06:00 - 23:00", "Áè≠Ê¨°È†ªÁéá: ÊØè 8~15 ÂàÜÈêò‰∏ÄÁè≠", "Êê≠‰πò‰ΩçÁΩÆ: Ê©üÂ†¥ 5 ËôüÂá∫Âè£ÊúàÂè∞ 1-1", "ËªäÁ®ãÊôÇÈñì: Á¥Ñ 15 ÂàÜÈêò"] },
                    { name: "üì∏ ÂèñËªäÊ™¢Êü•Ê∏ÖÂñÆ", items: ["ÈåÑÂΩ±Ë®òÈåÑËªäË∫´Â§ñËßÄ", "Á¢∫Ë™çÊ≤πÁÆ±Â∑≤Âä†Êªø", "Ê™¢Êü•ÂÖßË£ùËàáÂÇôËÉé", "Ê†∏Â∞ç‰øùÈö™ÂêàÁ¥ÑÊ¢ùÊ¨æ"] }
                ],
                location: { name: "Lotte Rent-a-Car Auto House", search: "Î°ØÎç∞Î†åÌÑ∞Ïπ¥ Ï†úÏ£ºÏò§ÌÜ†ÌïòÏö∞Ïä§", desc: "ËêΩÂú∞ÂæåÊê≠‰πò 1-1 ÊúàÂè∞Êé•ÈßÅËªäÂâçÂæÄÂèñËªä„ÄÇ" }
            },
            {
                id: 2, title: "Day 1 ¬∑ 1/11 ÂåóÈÉ®ÊäµÈÅî", date: "2026 / 01 / 11", theme: "ÊèõÈå¢„ÄÅÂÖçÁ®ÖÂ∫óËàáÊµ∑Â≤∏ÁæéÈ£ü", bgType: "north",
                stops: [
                    { name: "Moneybox ÊèõÈå¢", type: "ÊèõÈå¢", search: "Î®∏ÎãàÎ∞ïÏä§ Ï†úÏ£ºÏßÄÏ†ê", desc: "Î®∏ÎãàÎ∞ïÏä§ Ï†úÏ£ºÏßÄÏ†ê„ÄÇüí∞", icon: "banknote" },
                    { name: "ÊøüÂ∑ûÂêõÊÇÖ (WOWPASS)", type: "Êï∏‰Ωç", search: "Ï†úÏ£º ÎìúÎ¶ºÌÉÄÏõå", desc: "ÈÖíÂ∫óÂÖßËæ¶ÁêÜ WOWPASS„ÄÇüí≥", icon: "credit-card" },
                    { name: "Êñ∞ÁæÖÂÖçÁ®ÖÂ∫ó ÊøüÂ∑ûÂ∫ó", type: "Ë≥ºÁâ©", search: "Ïã†ÎùºÎ©¥ÏÑ∏Ï†ê Ï†úÏ£ºÏ†ê", desc: "Á≤æÂìÅÊé°Ë≥ºÁ¨¨‰∏ÄÁ´ô„ÄÇüëú", icon: "shopping-bag" },
                    { name: "ÂΩ©ËôπÊµ∑Â≤∏ÈÅìË∑Ø", type: "ÊôØÈªû", search: "ÎèÑÎëêÎèôÎ¨¥ÏßÄÍ∞úÌï¥ÏïàÎèÑÎ°ú", desc: "ÈÅìÈ†≠Ê¥ûÂΩ©Ëâ≤Áü≥Â°äÊãçÁÖß„ÄÇüåà", icon: "camera" },
                    { name: "Â∞èÈ¶¨ÁáàÂ°î", type: "ÊâìÂç°", search: "Ï†úÏ£ºÏù¥Ìò∏ÎûúÎìú", desc: "Á¥ÖÁôΩÂ∞çÊúõÂ∞èÈ¶¨ÁáàÂ°î„ÄÇüêé", icon: "camera" },
                    { name: "ÂßäÂ¶πÈ∫µÊ¢ù", type: "ÁæéÈ£ü", search: "ÏûêÎß§Íµ≠Ïàò", desc: "‰ºëÊÅØÊôÇÈñì 14:30-16:10„ÄÇüçú", icon: "utensils" },
                    { name: "Egyul Ê©òÂ≠êËõãÂ°î", type: "ÈªûÂøÉ", search: "ÏóêÍ∑§ÌÉÄÎ•¥Ìä∏ Ïù¥Ìò∏ÌÖåÏö∞Ìï¥Î≥ÄÏ†ê", desc: "ÁáüÊ•≠ 8:00-19:30„ÄÇüçÆ", icon: "shopping-bag" },
                    { name: "ÊñØÂù¶Á¶èÂ∫¶ÂÅáÈÖíÂ∫ó", type: "‰ΩèÂÆø", search: "Ïä§ÌÉ†Ìè¨ÎìúÌò∏ÌÖîÏï§Î¶¨Ï°∞Ìä∏ Ï†úÏ£º", desc: "Ëæ¶ÁêÜÂÖ•‰ΩèÊîæË°åÊùé„ÄÇüè®", icon: "heart" },
                    { name: "Êò•Â§©ÂíñÂï°Âª≥ / Beril", type: "ÂíñÂï°", search: "Î¥ÑÎÇ†Ïπ¥Ìéò", desc: "‰∫åÈÅ∏‰∏ÄÂéªËôï„ÄÇÊò•Â§© 9:00-21:00„ÄÇ‚òï", icon: "coffee" },
                    { name: "Mumu ÊøüÂ∑ûÈÅ∏Áâ©Â∫ó", type: "Ë≥ºÁâ©", search: "Î¨¥Î¨¥Ï†úÏ£º", desc: "ÂèØÊÑõÊèíÁï´ÈõúË≤®ÔºåÁáüÊ•≠Âà∞ 18:00„ÄÇüéÅ", icon: "shopping-bag" },
                    { name: "Ë≤∑ UMU Â∏É‰∏Å", type: "ÁîúÈªû", search: "Ïö∞Î¨¥", desc: "ÊñáÈùíÂøÖË≤∑Â∏É‰∏ÅÔºåÁáüÊ•≠Âà∞ 20:00„ÄÇüçÆ", icon: "shopping-bag" },
                    { name: "Noraba Êµ∑ÈÆÆÊãâÈ∫µ", type: "ÁæéÈ£ü", search: "ÎÖ∏ÎùºÎ∞î", desc: "‰ºë 15:00-16:00„ÄÇÊæéÊπÉÊµ∑ÈÆÆ„ÄÇü¶Ä", icon: "utensils" },
                    { name: "Aewol Galchi (ÁôΩÂ∏∂È≠ö)", type: "ÊôöÈ§ê", search: "Ïï†ÏõîÍ∞àÏπòÏïîÌñâÏñ¥ÏÇ¨", desc: "Ë±™ËèØÁôΩÂ∏∂È≠öÊôöÈ§ê (2ÈÅ∏1)„ÄÇüêü", icon: "utensils" }
                ]
            },
            {
                id: 3, title: "Day 2 ¬∑ 1/12 ‰∏≠ÈÉ®Êé¢Èö™", date: "2026 / 01 / 12", theme: "Êº¢ÊãøÂ±±„ÄÅOutlet ËàáÂ§¢ÂπªÁáàÂÖâÁßÄ", bgType: "mountain",
                stops: [
                    { name: "Êº¢ÊãøÂ±±Áü≥Á¢ë (Eorimork)", type: "ÊôØÈªû", search: "Ïñ¥Î¶¨Î™©Ï£ºÏ∞®Ïû•ÏûÖÍµ¨", desc: "Êº¢ÊãøÂ±±Áü≥Á¢ëÂêàÂΩ±„ÄÇüèîÔ∏è", icon: "camera" },
                    { name: "1100 È´òÂú∞ÊøïÂú∞", type: "Ëá™ÁÑ∂", search: "1100Í≥†ÏßÄÏäµÏßÄ", desc: "ÂÜ¨Êó•ÈôêÂÆöÂ§¢ÂπªÈúßÊ∑û„ÄÇ‚ùÑÔ∏è", icon: "mountain" },
                    { name: "ÊøüÂ∑ûÂ†Ç (Lunch)", type: "‰∏≠È§ê", search: "Ï†úÏ£ºÎãπ", desc: "Âú®Âú∞È¢®Âë≥ÂçàÈ§ê„ÄÇüç±", icon: "utensils" },
                    { name: "Hello Kitty ‰∏ªÈ°åÈ§®", type: "‰∏ªÈ°å", ticket: "‚Ç©16,000", search: "Ìó¨Î°úÌÇ§Ìã∞ÏïÑÏùºÎûúÎìú", desc: "Á≤âÁ¥Ö‰∏ªÈ°åÂ∞ëÂ•≥ÂøÉ„ÄÇüéÄ", icon: "heart" },
                    { name: "Êñ∞‰∏ñÁïå Simon Outlet", type: "Ë≥ºÁâ©", search: "Ïã†ÏÑ∏Í≥ÑÏÇ¨Ïù¥Î®º Ï†úÏ£º", desc: "ÊôÇÂ∞öÊäòÊâ£Êé°Ë≥º„ÄÇüëü", icon: "shopping-bag" },
                    { name: "ÂêçËôüÈ¶¨Ëæ≤ÁâõÊéí (‰∏≠ÊñáÂ∫ó)", type: "ÁæéÈ£ü", search: "Î™ÖÌò∏ÎßàÎÜçÍ∞àÎπÑ Ï§ëÎ¨∏Ï†ê", desc: "È†ÇÁ¥öÈüìÁâõÈ•óÂÆ¥„ÄÇü•©", icon: "utensils" },
                    { name: "Luna Fall („É´„Éä„Éï„Ç©„Éº„É´)", type: "Â§úÊôØ", search: "Î£®ÎÇòÌè¥", desc: "Â§ßÂûãÊà∂Â§ñÂ§úÈñìÂ™íÈ´îËóùË°ìÔºåÁáüÊ•≠Ëá≥ 00:00„ÄÇ‚ú®", icon: "sparkles" },
                    { name: "ÊøüÂ∑ûÊ®ÇÂ§©ÈÖíÂ∫ó", type: "‰ΩèÂÆø", search: "Î°ØÎç∞Ìò∏ÌÖî Ï†úÏ£º", desc: "ÂÖ•‰ΩèÊ®ÇÂ§©Á•ûË©±ÈÖíÂ∫ó„ÄÇüè®", icon: "heart" }
                ]
            },
            {
                id: 4, title: "Day 3 ¬∑ 1/13 ÂçóÈÉ®Ëá™ÁÑ∂", date: "2026 / 01 / 13", theme: "Âú∞Ë≥™Â•áËßÄ„ÄÅÊ±óËí∏ÂπïËàáÂ∏ÇÂ†¥", bgType: "tangerine",
                stops: [
                    { name: "Â§ßÊµ¶Êü±ÁãÄÁØÄÁêÜÂ∏∂", type: "Ëá™ÁÑ∂", ticket: "‚Ç©2,000", search: "ÎåÄÌè¨Ï£ºÏÉÅÏ†àÎ¶¨", desc: "ÁÅ´Â±±Â≤©Â•áËßÄ„ÄÇüóø", icon: "mountain" },
                    { name: "ÂíñÂï°Âª≥ Gamtta nam", type: "ÂíñÂï°", search: "Í∞êÎî∞ÎÇ®", desc: "Ê©òÂ≠êÂúí‰∏ãÂçàËå∂„ÄÇüçä", icon: "coffee" },
                    { name: "ÊøüÂ∑ûÊ∞¥‰∏ä‰∏ñÁïå", type: "ÊîæÈ¨Ü", search: "ÏõåÌÑ∞ÏõîÎìú Ï†úÏ£º", desc: "ÈüìÂºèÊ±óËí∏ÂπïËàáÊ°ëÊãø„ÄÇüèä", icon: "waves" },
                    { name: "‰∏âÂßìÁ©¥Êµ∑ÈÆÆÊπØ (Ë•øÊ≠∏Êµ¶Â∫ó)", type: "ÁæéÈ£ü", search: "ÏÇºÏÑ±ÌòàÌï¥Î¨ºÌÉï ÏÑúÍ∑ÄÌè¨Ï†ê", desc: "Ë∂ÖÊæéÊπÉÊ¥ªÊµ∑ÈÆÆÂ§ßÈ§ê„ÄÇüêô", icon: "utensils" },
                    { name: "Ë•øÊ≠∏Êµ¶Ê¨£Ê¨£ÈÖíÂ∫ó", type: "‰ΩèÂÆø", search: "Ïã†Ïã†Ìò∏ÌÖî ÏÑúÍ∑ÄÌè¨", desc: "Ëæ¶ÁêÜÂÖ•‰ΩèÊîæË°åÊùé„ÄÇüè®", icon: "heart" },
                    { name: "Âèà‰æÜÂÅúÈ£ØÊç≤ (Onunjeong)", type: "ÂêçÂ∫ó", search: "Ïò§ÎäîÏ†ïÍπÄÎ∞•", desc: "ÂÇ≥Â•áÁ¥öÈõ£Ë®ÇÁöÑÁ¥´ËèúÈ£ØÊç≤„ÄÇüçô", icon: "utensils" },
                    { name: "Â∑¥ÈªéË≤ùÁîú (PB)", type: "ÈªûÂøÉ", search: "ÌååÎ¶¨Î∞îÍ≤åÎú® ÏÑúÍ∑ÄÌè¨", desc: "ÁâπËâ≤ÈªûÂøÉÊé°Ë≤∑„ÄÇü•ñ", icon: "shopping-bag" },
                    { name: "Ë•øÊ≠∏Êµ¶ÂÅ∂‰æÜÂ∏ÇÂ†¥", type: "Â∏ÇÂ†¥", search: "ÏÑúÍ∑ÄÌè¨Îß§ÏùºÏò¨Î†àÏãúÏû•", desc: "ÁáüÊ•≠Âà∞ 20:00„ÄÇüèÆ", icon: "shopping-bag" }
                ]
            },
            {
                id: 5, title: "Day 4 ¬∑ 1/14 Êµ∑Â∫ïËàáÂè≤Âä™ÊØî", date: "2026 / 01 / 14", theme: "Êµ∑Â∫ïÊé¢Èö™„ÄÅÁÄëÂ∏ÉËàáÊ£ÆÊûóÂíñÂï°", bgType: "ocean",
                stops: [
                    { name: "Ê≠£ÊàøÁÄëÂ∏É", type: "ÊôØÈªû", ticket: "‚Ç©2,000", search: "Ï†ïÎ∞©Ìè≠Ìè¨", desc: "ÂÖ•Êµ∑ÁÄëÂ∏ÉÂ•áÊôØ„ÄÇüåä", icon: "waves" },
                    { name: "Ë•øÊ≠∏Êµ¶ÊΩõÊ∞¥Ëâá", type: "È´îÈ©ó", search: "ÏÑúÍ∑ÄÌè¨Ïû†ÏàòÌï®", desc: "È†êÁ¥ÑÊµ∑Â∫ïÊé¢Èö™„ÄÇ‚öì", icon: "waves" },
                    { name: "ÈªëË±¨Êµ∑ÈÆÆ‰∏âÂêà", type: "ÁæéÈ£ü", search: "ÌùëÎèºÏßÄÌï¥Î¨ºÏÇºÌï©", desc: "Ë±™ËèØÊµ∑Èô∏ÂêàËèú„ÄÇü•ò", icon: "utensils" },
                    { name: "Âè≤Âä™ÊØîÂÖ¨Âúí", type: "ÊâìÂç°", ticket: "‚Ç©19,000", search: "Ïä§ÎàÑÌîºÍ∞ÄÎì†", desc: "ÁôÇÁôíÁ≥ªÂ§ßÂûãÂúíÂçÄ„ÄÇüêæ", icon: "heart" },
                    { name: "ÊòüÂ∑¥ÂÖã (ÊùæÂ†ÇÂÖ¨ÂúíÂ∫ó)", type: "ÂíñÂï°", search: "Ïä§ÌÉÄÎ≤ÖÏä§ ÎçîÏ†úÏ£ºÏÜ°ÎãπÌååÌÅ¨", desc: "Ë∂ÖÁæéÊôØËßÄÁâπËâ≤ÈñÄÂ∏Ç„ÄÇ‚òï", icon: "coffee" },
                    { name: "Â∑¥ÈªéË≤ùÁîú (ÊùæÂ†ÇÂ∫ó)", type: "ÈªûÂøÉ", search: "ÌååÎ¶¨Î∞îÍ≤åÎú® ÎèôÌôîÎßàÏùÑ", desc: "ÊòüÂ∑¥ÂÖãÊóÅÈÇä„ÄÇü•ñ", icon: "shopping-bag" },
                    { name: "ËóçÁì∂ÂíñÂï° (Blue Bottle)", type: "ÂíñÂï°", search: "Î∏îÎ£®Î≥¥ÌãÄ Ï†úÏ£º Ïπ¥Ìéò", desc: "Ê•µÁ∞°Ë≥™ÊÑüÂíñÂï°È´îÈ©ó„ÄÇ‚òï", icon: "coffee" },
                    { name: "Koeop ÂüéÂ±±ÈÖíÂ∫ó", type: "‰ΩèÂÆø", search: "ÏΩîÏóÖÏãúÌã∞Ìò∏ÌÖî ÏÑ±ÏÇ∞", desc: "ÂÖ•‰ΩèÂüéÂ±±Âú∞ÂçÄ„ÄÇüè®", icon: "heart" }
                ]
            },
            {
                id: 6, title: "Day 5 ¬∑ 1/15 ÂüéÂ±±Êù±ÈÉ®", date: "2026 / 01 / 15", theme: "‰∏ñÁïåÈÅ∫Áî¢„ÄÅÊ∞¥ÊóèÈ§®ËàáÈÆëÈ≠ö", bgType: "sunrise",
                stops: [
                    { name: "Aqua Planet Ê∞¥ÊóèÈ§®", type: "È´îÈ©ó", ticket: "‚Ç©44,600", search: "ÏïÑÏø†ÏïÑÌîåÎùºÎÑ∑ Ï†úÏ£º", desc: "9:30 ÁáüÊ•≠„ÄÇkkday Ë≥ºÁ•®„ÄÇüê≥", icon: "waves" },
                    { name: "ÂüéÂ±±Êó•Âá∫Â≥∞", type: "ÈÅ∫Áî¢", ticket: "Á¥Ñ $112", search: "ÏÑ±ÏÇ∞ÏùºÏ∂úÎ¥â", desc: "2ÈªûÊµ∑Â•≥Ë°®Êºî„ÄÇüåã", icon: "mountain" },
                    { name: "Chwihado ÈõúË≤®Â∫ó", type: "Ë≥ºÁâ©", search: "Ï∑®ÌïòÎèÑ", desc: "Ë≥™ÊÑüÈÅ∏Áâ©Â∞èÂ∫ó„ÄÇüéÅ", icon: "shopping-bag" },
                    { name: "Abebe Bakery", type: "ÁîúÈªû", search: "ÏïÑÎ≤†Î≤†", desc: "Â•∂Ê≤πÂåÖÊéíÈöäÂêçÂ∫ó„ÄÇü•ê", icon: "shopping-bag" },
                    { name: "Â§¢Ê†ºÈõ∑ (Mongle) ÊúàÊ±ÄÈáå", type: "ÈÅ∏Áâ©", search: "Î™ΩÍ∑∏Î†à ÏõîÏ†ïÎ¶¨Ï†ê", desc: "Èõ≤ÊúµÈÄ†ÂûãÈ§Ö‰πæ„ÄÇ‚òÅÔ∏è", icon: "shopping-bag" },
                    { name: "ÂÄ´Êï¶Ë≤ùÊûú (London Bagel)", type: "ÂêçÂ∫ó", search: "Îü∞ÎçòÎ≤†Ïù¥Í∏ÄÎÆ§ÏßÄÏóÑ Ï†úÏ£º", desc: "Áî® Catch Table ÊäΩËôü„ÄÇü•Ø", icon: "shopping-bag" },
                    { name: "ÊòéÁèçÈÆëÈ≠ö", type: "ÁæéÈ£ü", search: "Î™ÖÏßÑÏ†ÑÎ≥µ", desc: "ÂøÖÂêÉÊãõÁâåÈÆëÈ≠öÈáúÈ£Ø„ÄÇüêö", icon: "utensils" }
                ]
            },
            {
                id: 7, title: "Day 6 ¬∑ 1/16 ÁâõÂ≥∂ÊÖ¢Ê¥ª", date: "2026 / 01 / 16", theme: "Èõ¢Â≥∂È¢®ÂÖâËàáÂÖçÁ®ÖË≥ºÁâ©", bgType: "udo",
                stops: [
                    { name: "ÁâõÂ≥∂Êº´ÈÅä", type: "Èõ¢Â≥∂", ticket: "‚Ç©10,000", search: "Ïö∞ÎèÑÎèÑÌï≠ÏÑ†ÏÑ†Ï∞©Ïû•", desc: "ÂåÖÂê´ÁâõÂ≥∂ÁéãÂ≠êÁöÑÊïÖ‰∫ãÂÜ∞Ê∑áÊ∑ã„ÄÇüö¢", icon: "ship" },
                    { name: "Odeurang Bakery (Âí∏Âæ∑)", type: "ÈªûÂøÉ", search: "Ïò§ÎìúÎûëÎ≤†Ïù¥Ïª§Î¶¨ Ìï®ÎçïÏ†ê", desc: "Â§ßËíúÈ∫µÂåÖÂøÖË≤∑„ÄÇü•ñ", icon: "shopping-bag" },
                    { name: "Êµ∑Â•≥È£ØÊç≤", type: "ÁæéÈ£ü", search: "Ìï¥ÎÖÄÍπÄÎ∞•", desc: "ËºïÈ£üÊµ∑Â≤∏ÁæéÂë≥„ÄÇüçô", icon: "utensils" },
                    { name: "Ê©òÂ≠êÂ±ãÂíñÂï°Âª≥", type: "ÊâìÂç°", search: "Ïπ¥Ìéò Îçî ÏΩòÌÖåÎÇò", desc: "Â∑®Â§ßÊ©òÂ≠êÁ±ÉÂ§ñÂûã„ÄÇüçä", icon: "coffee" },
                    { name: "Ê®ÇÂ§©ÂüéÂ∏ÇÈÖíÂ∫ó Check in", type: "‰ΩèÂÆø", search: "Î°ØÎç∞ÏãúÌã∞Ìò∏ÌÖî Ï†úÏ£º", desc: "ÂõûÂ∏ÇÂçÄ‰æøÂà©Ë≥ºÁâ©„ÄÇüè®", icon: "heart" },
                    { name: "Ê®ÇÂ§© / Êñ∞ÁæÖÂÖçÁ®ÖÂ∫ó", type: "Ë≥ºÁâ©", search: "Ïã†ÎùºÎ©¥ÏÑ∏Ï†ê Ï†úÏ£ºÏ†ê", desc: "Á≤æÂìÅÊúÄÂæåË£úÈΩä„ÄÇüëú", icon: "shopping-bag" },
                    { name: "Mak-soe (ÁÉ§ËÖ∏)", type: "ÁæéÈ£ü", search: "ÎßâÏá†", desc: "ÈüìÂºèÁÉ§ËÖ∏ÈÖçÂï§ÈÖí„ÄÇüçª", icon: "utensils" },
                    { name: "Emart / Ê®ÇÂ§©Ë∂ÖÂ∏Ç", type: "Êé°Ë≥º", search: "Ïù¥ÎßàÌä∏ Ï†úÏ£ºÏ†ê", desc: "Ë≤∑Èõ∂È£üÂúüÁî¢„ÄÇüõí", icon: "shopping-bag" },
                    { name: "Chita ÁÇ∏Èõû", type: "ÂÆµÂ§ú", search: "ÏπòÌÉÄÏπòÌÇ®", desc: "ÂõûÈ£ØÂ∫ó‰∫´Áî®ÂÆµÂ§ú„ÄÇüçó", icon: "utensils" }
                ]
            },
            {
                id: 8, title: "Day 7 ¬∑ 1/17 Â∏ÇÂçÄÂÖ®ÊîªÁï•", date: "2026 / 01 / 17", theme: "ÁîúÁîúÂúà„ÄÅÊ´ªËä±Â§ßÈÅìËàáÊù±ÈñÄÂ∏ÇÂ†¥", bgType: "city",
                stops: [
                    { name: "Knotted ÁîúÁîúÂúà", type: "ÂêçÂ∫ó", search: "Ï†úÏ£º ÎÖ∏Ìã∞Îìú", desc: "9ÈªûÈñãÈñÄÔºåÂπ∏Á¶èÁîúÈªû„ÄÇüç©", icon: "shopping-bag" },
                    { name: "ÁÜüÊàêÂà∞ (Sukseongdo)", type: "ÁæéÈ£ü", search: "ÏàôÏÑ±ÎèÑ", desc: "11:00 È†êÁ¥ÑÁ∏ΩÂ∫óÈªëË±¨ËÇâ„ÄÇüê∑", icon: "utensils" },
                    { name: "ÂÖ∏Ëæ≤Ë∑ØÊ´ªËä±Â§ßÈÅì", type: "Êï£Ê≠•", search: "Ï†úÏ£º Ï†ÑÎÜçÎ°ú Î≤öÍΩÉÍ±∞Î¶¨", desc: "ÊÇ†ÈñíË°óÈÅìÊï£Ê≠•„ÄÇüå∏", icon: "palmtree" },
                    { name: "Gyulmedal Ê©òÂ≠êÂæΩÁ´†", type: "ÈÅ∏Áâ©", search: "Í∑§Î©îÎã¨ ÌïòÏö∞Ïä§", desc: "Ë®≠Ë®àÁ¥ÄÂøµÂìÅ„ÄÇüèÖ", icon: "shopping-bag" },
                    { name: "Saeuri È£ØÊç≤ (ÊøüÂ∑ûÂ∏Ç)", type: "ÁæéÈ£ü", search: "Ï†úÏ£ºÏãúÏÉàÏö∞Î¶¨", desc: "Á≤æÁ∑ªËù¶ËÇâÈ£ØÊç≤„ÄÇüçô", icon: "utensils" },
                    { name: "Huzlee Ê©òÂ≠êÂÜ∞", type: "ÁîúÈªû", ticket: "‚Ç©12,000", search: "Ìú¥Ï¶êÎ¶¨ Ï†úÏ£ºÎ≥∏Ï†ê", desc: "ÈÄºÁúüÊ©òÂ≠êÈÄ†ÂûãÂÜ∞„ÄÇüç¶", icon: "utensils" },
                    { name: "ÈæçÈ†≠Â≤©", type: "ÊôØÈªû", search: "Ïö©ÎëêÏïî", desc: "Â∑®ÈæçÂ•áÁü≥ÊôØËßÄ„ÄÇüê≤", icon: "mountain" },
                    { name: "‰∏ÉÊòüË°ó / Âú∞‰∏ãË°ó", type: "Ë≥ºÁâ©", search: "Ï†úÏ£ºÏπ†ÏÑ±Î°úÏÉÅÏ†êÍ∞Ä", desc: "ÈÅãÂãïÂìÅÁâåÊé°Ë≤∑„ÄÇüëü", icon: "shopping-bag" },
                    { name: "Êù±ÈñÄÂ∏ÇÂ†¥ (Â§úÂ∏Ç)", type: "Â∏ÇÂ†¥", search: "ÎèôÎ¨∏Ïû¨ÎûòÏãúÏû•", desc: "8Âá∫Âè£Â§úÂ∏Ç„ÄÇüèÆ", icon: "shopping-bag" },
                    { name: "ÈªëË±¨ËÇâ‰∏ÄÊ¢ùË°ó", type: "ÁæéÈ£ü", search: "ÌùëÎèºÏßÄÍ±∞Î¶¨", desc: "ÊúÄÂæåÊôöÈ§êÈ•óÂÆ¥„ÄÇü•©", icon: "utensils" },
                    { name: "Salt Bread ÈπΩÂèØÈ†åÂÜ∞", type: "ÁîúÈªû", search: "ÏÜîÎ∏åÎ†à", desc: "ÂÆåÁæéÁîúÈªûÁµêÂ∞æ„ÄÇüç¶", icon: "shopping-bag" }
                ]
            },
            {
                id: 9, title: "Day 8 ¬∑ 1/18 Ê≠∏ÈÄî", date: "2026 / 01 / 18", theme: "ÈÇÑËªä„ÄÅÂÖçÁ®ÖÂ∫óËàáÈÄÄÁ®Ö", bgType: "city",
                stops: [
                    { name: "Ê®ÇÂ§© Auto House ÈÇÑËªä", type: "ÊâãÁ∫å", search: "Î°ØÎç∞Î†åÌÑ∞Ïπ¥ Ï†úÏ£ºÏò§ÌÜ†ÌïòÏö∞Ïä§", desc: "6ÈªûÂâçÊ∫ñÊôÇÈÇÑËªä„ÄÇ‚õΩ", icon: "car" },
                    { name: "Ê©üÂ†¥ÂÖçÁ®ÖÂ∫ó (JDC)", type: "Ë≥ºÁâ©", search: "Ï†úÏ£ºÍµ≠Ï†úÍ≥µÌï≠", desc: "ÊúÄÂæåË£úË≤®ÊôÇÈñì„ÄÇüéÅ", icon: "shopping-bag" },
                    { name: "16ËôüÈñòÂè£ÈÄÄÁ®Ö", type: "ÈÄÄÁ®Ö", search: "Ï†úÏ£ºÍµ≠Ï†úÍ≥µÌï≠", desc: "Êµ∑ÈóúÂæå 16 ËôüÈñòÂè£Â∞çÈù¢ÈÄÄÁ®Ö„ÄÇüíµ", icon: "credit-card" },
                    { name: "Êê≠Ê©üËøîÂè∞ (ËôéËà™)", type: "Ê≠∏ÈÄî", search: "Ï†úÏ£ºÍµ≠Ï†úÍ≥µÌï≠", desc: "Â∏∂ËëóÂπ∏Á¶èÂõûÂÆ∂„ÄÇ‚úàÔ∏è", icon: "sun" }
                ]
            }
        ];

        let currentDay = 0;

        function renderDaySelector() {
            const selector = document.getElementById('day-selector');
            selector.innerHTML = itineraryData.map(day => {
                let label = day.id === 0 ? 'PREP' : (day.id === 1 ? 'RENT' : 'D' + (day.id - 1));
                return `<button onclick="changeDay(${day.id})" class="day-btn relative px-3 py-1.5 transition-all rounded-full border border-black/10 text-[#4A443F]/60 hover:bg-[#E9E6E2] ${day.id === currentDay ? 'active' : ''}"><span class="text-[10px] font-bold uppercase">${label}</span></button>`;
            }).join('');
        }

        function changeDay(id) {
            currentDay = id;
            updateUI();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function updateUI() {
            const data = itineraryData[currentDay];
            renderDaySelector();
            const bgContainer = document.getElementById('bg-illustration-container');
            bgContainer.style.opacity = '0';
            setTimeout(() => {
                const bgs = {
                    north: `<svg viewBox="0 0 800 600" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M100 500 Q 200 480 400 500 T 700 480" /><path d="M120 450 L 180 450" stroke-width="8" stroke-opacity="0.3" /><rect x="550" y="350" width="40" height="100" /><path d="M540 350 L 600 350 L 570 300 Z" /><circle cx="570" cy="280" r="10" /></svg>`,
                    mountain: `<svg viewBox="0 0 800 600" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M100 550 L 300 200 L 500 450 L 650 300 L 800 550" /></svg>`,
                    tangerine: `<svg viewBox="0 0 800 600" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="200" cy="200" r="30" /><circle cx="250" cy="280" r="25" /></svg>`,
                    ocean: `<svg viewBox="0 0 800 600" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M0 400 Q 200 350 400 400 T 800 350" /></svg>`,
                    sunrise: `<svg viewBox="0 0 800 600" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M50 500 L 200 450 L 400 150 L 600 450 L 750 500 Z" /></svg>`,
                    city: `<svg viewBox="0 0 800 600" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="100" y="300" width="80" height="250" /></svg>`,
                    udo: `<svg viewBox="0 0 800 600" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M300 400 L 500 400 L 550 350 L 250 350 Z" /></svg>`
                };
                bgContainer.innerHTML = bgs[data.bgType] || '';
                bgContainer.style.opacity = '0.06';
            }, 300);

            document.getElementById('day-header').innerHTML = `
                <h2 class="text-3xl font-serif font-light italic mb-2 text-[#5D5751]">${data.title}</h2>
                <div class="flex flex-col items-center gap-1 mb-4"><span class="text-[#C89F9C] font-serif italic text-lg tracking-widest">${data.date}</span></div>
                <p class="text-[#A6A890] text-[10px] tracking-[0.3em] uppercase font-bold">‚Äî ${data.theme} ‚Äî</p>`;

            const container = document.getElementById('itinerary-grid');
            if (data.isChecklist || data.isRentalPage) {
                let extraHTML = data.isRentalPage ? `
                    <div class="mt-8 p-6 bg-white/90 rounded-[32px] border border-[#E9E6E2] w-full max-w-xl text-center">
                        <p class="font-serif italic text-[#C89F9C] text-md mb-4">"Lotte Rent-a-Car Auto House"</p>
                        <div class="flex flex-col gap-2">
                            <button onclick="window.open('https://map.naver.com/v5/search/${encodeURIComponent(data.location.search)}', '_blank')" class="w-full py-3 rounded-full bg-[#E9E6E2]/80 text-[#4A443F] text-xs font-bold hover:bg-[#A6A890] transition-all">ÈñãÂïü Naver Map</button>
                            <button onclick="window.open('${data.websiteUrl}', '_blank')" class="w-full py-3 rounded-full bg-[#A6A890]/10 text-[#4A443F] text-xs font-bold hover:bg-[#C89F9C] transition-all">Ê®ÇÂ§©ÁßüËªäÂÆòÁ∂≤</button>
                        </div>
                    </div>` : "";
                container.innerHTML = `<div class="w-full max-w-xl bg-white/90 backdrop-blur-sm rounded-[40px] p-8 shadow-sm border border-[#E9E6E2] fade-in"><div class="flex flex-col gap-8">
                    ${data.sections.map(section => `<div><div class="flex items-center gap-3 mb-4"><div class="h-[2px] w-6 bg-[#C89F9C]"></div><h3 class="text-md font-bold text-[#5D5751]">${section.name}</h3></div><div class="flex flex-col gap-1">
                    ${section.items.map((item, idx) => {
                        const itemId = `${data.id}-${section.name}-${idx}`;
                        return `<div class="check-item group" onclick="toggleCheck(this.querySelector('.check-box'), '${itemId}')">
                            <div class="check-box ${window.getCheckState(itemId) ? 'checked' : ''}" data-item-id="${itemId}"></div>
                            <span class="text-sm text-[#8E8781] font-light">${item}</span>
                        </div>`;
                    }).join('')}</div></div>`).join('')}</div></div>${extraHTML}`;
            } else {
                container.innerHTML = data.stops.map((stop, index) => `
                    <div class="w-full max-w-2xl flex flex-col items-center gap-4">
                        <div class="w-full group bg-white/90 backdrop-blur-sm rounded-[32px] overflow-hidden shadow-sm border border-[#E9E6E2] flex flex-col md:flex-row fade-in">
                            <div class="md:w-1/3 aspect-video bg-[#F1F1F1]/50 relative p-4 flex items-center justify-center">
                                <i data-lucide="${stop.icon || 'map-pin'}" class="w-10 h-10 text-[#A6A890]" style="stroke-width: 1.2"></i>
                                <div class="absolute top-4 left-4 z-20 flex flex-col items-center"><span class="text-[8px] font-bold uppercase text-[#A6A890]">Step</span><span class="text-xl font-serif italic text-[#C89F9C]">${(index + 1).toString().padStart(2, '0')}</span></div>
                            </div>
                            <div class="md:w-2/3 p-6 flex flex-col justify-center text-center md:text-left">
                                <div class="flex items-center justify-center md:justify-between mb-2">
                                    <span class="text-[10px] font-bold text-[#A6A890] uppercase tracking-widest">${stop.type}</span>
                                    ${stop.ticket ? `<span class="text-[8px] font-bold text-[#C89F9C] border px-2 py-0.5 rounded-full">${stop.ticket}</span>` : ''}
                                </div>
                                <h3 class="text-xl font-light mb-2 text-[#5D5751]">${stop.name}</h3>
                                <p class="text-[#8E8781] text-xs leading-relaxed mb-4 italic">„Äå ${stop.desc} „Äç</p>
                                <button onclick="window.open('https://map.naver.com/v5/search/${encodeURIComponent(stop.search || stop.name)}', '_blank')" class="w-full py-2.5 rounded-full bg-[#E9E6E2]/80 text-xs font-bold hover:bg-[#A6A890] hover:text-white transition-all">ÈñãÂïüÂ∞éË¶Ω</button>
                            </div>
                        </div>
                        ${index < data.stops.length - 1 ? `<div class="flow-arrow"><i data-lucide="chevrons-down" class="w-5 h-5"></i></div>` : `<div class="flex flex-col items-center gap-2 opacity-30 mt-4"><div class="h-1 w-8 bg-[#A6A890] rounded-full"></div><span class="text-[8px] font-bold uppercase text-[#A6A890]">End Day</span></div>`}
                    </div>`).join('');
            }
            const noteEl = document.getElementById('note-section');
            if (currentDay >= 2) {
                noteEl.innerHTML = `<div class="flex flex-col items-center gap-4"><div class="flex items-center gap-3"><i data-lucide="pen-tool" class="text-[#A6A890] w-3 h-3"></i><span class="text-[8px] tracking-[0.5em] font-black uppercase text-[#A6A890]">Honeymoon Notes</span></div><textarea class="handwritten-note" placeholder="Âú®ÈÄôË£°ÂØ´‰∏ãÊú¨Êó•ÊúÄÁîúËúúÁöÑÊôÇÂàª..."></textarea></div>`;
            } else noteEl.innerHTML = "";

            document.getElementById('page-label').innerText = data.id === 0 ? 'PAGE.PREP' : (data.id === 1 ? 'PAGE.RENT' : `PAGE.0${data.id-1}`);
            document.getElementById('prev-btn').disabled = currentDay === 0;
            document.getElementById('next-btn').disabled = currentDay === itineraryData.length - 1;
            lucide.createIcons();
        }

        window.onload = () => { updateUI(); };
        document.getElementById('prev-btn').onclick = () => { if (currentDay > 0) { currentDay--; updateUI(); } };
        document.getElementById('next-btn').onclick = () => { if (currentDay < itineraryData.length - 1) { currentDay++; updateUI(); } };
    </script>
</body>
</html>